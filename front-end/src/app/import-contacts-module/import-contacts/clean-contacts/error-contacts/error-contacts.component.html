<div class="error_contacts__container">
  <p>
    The list below are Contacts with invalid or missing fields. Correct the fields in error by
    selecting the Edit option from the dropdown or Trash to exclude the Contact from the import.
  </p>
  <h2 class="error_contacts__heading">
    Invalid Field Entries
  </h2>
  <div class="error_contacts__table-container">
    <div class="error_contacts__table-inner">
      <table class="table table-striped table-hover error_contacts__table">
        <thead>
          <tr>
            <th class="hard_left"></th>
            <th>Committee ID</th>
            <th>Type</th>
            <th>Committee Name/Organization</th>
            <th>Last Name</th>
            <th>First Name</th>
            <th>Middle Name</th>
            <th>Prefix</th>
            <th>Suffix</th>
            <th>Address 1</th>
            <th>Address 2</th>
            <th>City</th>
            <th>State</th>
            <th>Zip Code</th>
            <th>Employer</th>
            <th>Occupation</th>
            <th>Candidate ID</th>
            <th>Candidate Office</th>
            <th>Candidate State</th>
            <th>Candidate District</th>
            <th>Multi-Candidate Committee Status</th>
          </tr>
        </thead>
        <tbody>
          <ng-container *ngIf="contacts$">
            <tr *ngFor="let contact of contacts$ | async | paginate: config; let i = index;">
              <td class="hard_left">
                <div class="btn-group" ngbDropdown role="group" aria-label="Action dropdown">
                  <button class="btn btn-sm btn-primary action_button" ngbDropdownToggle>
                    <i class="ellipsis-icon"></i>
                  </button>
                  <div class="dropdown-menu" ngbDropdownMenu>
                    <button class="dropdown-item" (click)="editContact(contact, i, editContactsModal)">
                      <i class="edit-icon"></i>
                      Edit</button>
                    <button class="dropdown-item" (click)="trashContact(contact, i)">
                      <i class="trash-icon"></i>
                      Trash</button>
                  </div>
                </div>
              </td>
              <td>
                <app-error-contacts-field [field]="contact.committeeId"></app-error-contacts-field>
              </td>
              <td>
                <app-error-contacts-field [field]="contact.type"></app-error-contacts-field>
              </td>
              <td>
                <app-error-contacts-field [field]="contact.name"></app-error-contacts-field>
              </td>
              <td>
                <app-error-contacts-field [field]="contact.lastName"></app-error-contacts-field>
              </td>
              <td>
                <app-error-contacts-field [field]="contact.firstName"></app-error-contacts-field>
              </td>
              <td>
                <app-error-contacts-field [field]="contact.middleName"></app-error-contacts-field>
              </td>
              <td>
                <app-error-contacts-field [field]="contact.prefix"></app-error-contacts-field>
              </td>
              <td>
                <app-error-contacts-field [field]="contact.suffix"></app-error-contacts-field>
              </td>
              <td>
                <app-error-contacts-field [field]="contact.street"></app-error-contacts-field>
              </td>
              <td>
                <app-error-contacts-field [field]="contact.street2"></app-error-contacts-field>
              </td>
              <td>
                <app-error-contacts-field [field]="contact.city"></app-error-contacts-field>
              </td>
              <td>
                <app-error-contacts-field [field]="contact.state"></app-error-contacts-field>
              </td>
              <td>
                <app-error-contacts-field [field]="contact.zip"></app-error-contacts-field>
              </td>
              <td>
                <app-error-contacts-field [field]="contact.employer"></app-error-contacts-field>
              </td>
              <td>
                <app-error-contacts-field [field]="contact.occupation"></app-error-contacts-field>
              </td>
              <td>
                <app-error-contacts-field [field]="contact.candidateId"></app-error-contacts-field>
              </td>
              <td>
                <app-error-contacts-field [field]="contact.officeSought"></app-error-contacts-field>
              </td>
              <td>
                <app-error-contacts-field [field]="contact.officeState"></app-error-contacts-field>
              </td>
              <td>
                <app-error-contacts-field [field]="contact.district"></app-error-contacts-field>
              </td>
              <td>
                <app-error-contacts-field [field]="contact.multiCandidateCmteStatus"></app-error-contacts-field>
              </td>
            </tr>
          </ng-container>
        </tbody>
      </table>
    </div>
  </div>
  <hr />
  <div *ngIf="showPagination()" class="d-flex justify-content-center error_contacts__table-pagination-container">
    <pagination-controls [id]="config.id" (pageChange)="validateContacts($event)">
    </pagination-controls>
  </div>
  <div class="row">
    <div class="col col-md-5">
      <button class="btn btn-secondary btn-left error_contacts__begin-import"
        (click)="confirmDeleteAll(deleteAllModal)">
        Delete Errors & Continue
      </button>
    </div>
    <div class="col col-md-5">
      <i class="exclamation-triangle-icon error_contacts__ignore-warn"></i>
      <p class="error_contacts__ignore-text">Caution: If you Delete Errors & Continue, entries with missing fields
        will not be imported to the system.</p>
    </div>
  </div>
</div>

<ng-template #editContactsModal let-modal>
  <div class="modal-header" id="error_contacts__pin-modal-header">
    <h1 class="modal-title pull-left">Edit Contact</h1>
    <button aria-label="Close" class="close btn btn-link" type="button" (click)="cancelEdit(modal)">
      <span aria-hidden="true">×</span>
    </button>
  </div>
  <div class="modal-body">
    <p>
      Edit fields in error - Verbiage to be supplied by FEC.
    </p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary btn-modal-footer btn-right" (click)="saveContact(modal)">
      Save
    </button>
    <button type="button" class="btn btn-modal-footer btn-right btn-secondary-gray" (click)="cancelEdit(modal)">
      Cancel
    </button>
  </div>
</ng-template>

<ng-template #deleteAllModal let-modal>
  <div class="modal-header" id="error_contacts__pin-modal-header">
    <h2 class="modal-title pull-left">Delete All Errors</h2>
    <button aria-label="Close" class="close btn btn-link" type="button" (click)="cancelDeleteAll(modal)">
      <span aria-hidden="true">×</span>
    </button>
  </div>
  <div class="modal-body">
    <p>
      By continuing to delete all errors, entries with missing fields
      will not be imported to the system. Would you like to continue?
    </p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary btn-modal-footer btn-right" (click)="deleteAll(modal)">
      Delete Errors
    </button>
    <button type="button" class="btn btn-modal-footer btn-right btn-secondary-gray" (click)="cancelDeleteAll(modal)">
      Cancel
    </button>
  </div>
</ng-template>